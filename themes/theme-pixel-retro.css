/* --- 新增主题 X4: 像素复古 (Pixel Retro) --- */
.theme-pixel-retro {
    --crt-green: #64FF64;
    --crt-dark: #0c0c0c;
    --crt-edge: #3a3a3a;
    font-family: 'Courier New', Courier, monospace;
    background:
        repeating-linear-gradient(0deg, rgba(255,255,255,.02) 0 2px, transparent 2px 4px),
        var(--crt-dark);
    color: #d0ffd0;
    border: 2px solid var(--crt-edge);
    border-radius: 6px;
    box-shadow: inset 0 0 0 1px #000, 0 12px 24px rgba(0,0,0,.40);
    padding: 16px;
    position: relative;
    overflow: hidden; /* 限制扫描线动画在框内 */
    image-rendering: pixelated;
    /* 高级动效：CRT 轻微抖动 */
    animation: crtJitter calc(var(--anim-speed) * 8) steps(2) infinite;
}
.theme-pixel-retro::after {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,0) 40%, rgba(255,255,255,.05) 60%, rgba(0,0,0,0));
    mix-blend-mode: screen;
    opacity: calc(.5 * var(--anim-intensity));
    animation: crtScan calc(var(--anim-speed) * 3) linear infinite, crtFlicker calc(var(--anim-speed) * 5) steps(3) infinite;
    pointer-events: none;
}
.theme-pixel-retro .st-header {
    display:flex; align-items:center; justify-content:space-between;
    padding-bottom: 8px; margin-bottom: 8px;
    border-bottom: 1px solid var(--crt-edge);
}
.theme-pixel-retro .st-title {
    font-size: 18px;
    color: var(--crt-green);
    text-shadow: 0 0 6px rgba(100,255,100,.35);
    letter-spacing: .04em;
}
.theme-pixel-retro .st-body { display:grid; gap: 10px; }
.theme-pixel-retro .st-item {
    display:flex; align-items:center; justify-content:space-between;
    padding: 8px; border-radius: 4px;
    background: rgba(255,255,255,.03);
    box-shadow: inset 0 0 0 1px #000;
}
.theme-pixel-retro .st-label { color: #b9ffb9; display:flex; align-items:center; gap:.6em; }
.theme-pixel-retro .st-value { color: #eaffea; font-weight: 700; letter-spacing: .02em; }
.theme-pixel-retro .st-progress-bar {
    height: 10px; background: rgba(0,0,0,.6);
    border: 1px solid var(--crt-edge);
    border-radius: 0; overflow:hidden;
}
.theme-pixel-retro .st-progress-bar-fill {
    height: 100%;
    width: 60%;
    background-image: repeating-linear-gradient(90deg, #64FF64 0 6px, #3ADB3A 6px 12px);
    box-shadow: 0 0 calc(6px + 6px * var(--anim-intensity)) rgba(100,255,100,.35);
}
.theme-pixel-retro hr {
    border:none; height:1px;
    background: linear-gradient(to right, transparent, #64FF64, transparent);
}
@keyframes crtScan { 0%{transform:translateY(-100%)}100%{transform:translateY(100%)} }
/* 新增关键帧：抖动与闪烁 */
@keyframes crtJitter { 0%{ transform: translateY(0) } 50%{ transform: translateY(0.5px) } 100%{ transform: translateY(0) } }
@keyframes crtFlicker { 0%,100%{ opacity: calc(.45 * var(--anim-intensity)) } 50%{ opacity: calc(.55 * var(--anim-intensity)) } }